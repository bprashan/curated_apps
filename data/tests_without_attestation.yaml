---
default_input_args:
  start:
  distro:
  azure_warning:
  signing_key_path: test_config/enclave-key.pem
  attestation:
  runtime_args_text:
  runtime_variable_list:
  encrypted_files_path:
  end:
  signing_key_password:

test_redis_default:
  docker_image: redis redis:latest

test_redis_default_with_debug:
  docker_image: redis redis:latest
  debug_mode: y

test_redis_unknown_docker_image:
  docker_image: redis redis:unknown_version
  expected_screen: signing_page
  expected_output_console: "Could not fetch `redis:unknown_version` image from DockerHub"
  end_test: signing_key_path

test_redis_test_option:
  docker_image: redis redis:latest
  test_option: y

test_redis_with_test_sign_key:
  docker_image: redis redis:latest
  signing_key_path :

test_redis_with_test_sign_key_debug:
  docker_image: redis redis:latest
  signing_key_path : 
  debug_mode: y

test_redis_with_runtime_variables:
  docker_image: redis redis:latest
  runtime_variable_list: -e name="curator_app" -e version="1.2"

test_redis_empty_test_key:
  docker_image: redis redis:latest
  signing_key_path : test_config/empty-key
  expected_output_infile: "unable to load Private Key"

test_redis_wrong_key_path:
  docker_image: redis redis:latest
  signing_key_path : no_test_key
  end_test: signing_key_path
  expected_screen: signing_page
  expected_output_console: "no_test_key file does not exist."

test_redis_ra_wrong_option:
  docker_image: redis redis:latest
  attestation: k
  end_test: attestation
  expected_screen: attestation_page
  expected_output_console: "Invalid option specified"

test_redis_ev_invalid_input_1:
  docker_image: redis redis:latest
  runtime_variable_list: -e name="Xyz" -e -e age="20"

test_redis_ev_dict:
  docker_image: redis redis:latest
  runtime_variable_list: {name="Xyz",age="20"}

test_redis_ev_invalid_input_2:
  docker_image: redis redis:latest
  runtime_variable_list: -e name="Xyz" -e age=

test_bash_default:
  docker_image: bash bash-test:latest
  create_local_image: y
  runtime_variable_list: -e APP_NAME="Curated Apps"
  workload_result: "Curated Apps"

test_bash_runtime_args:
  docker_image: bash bash-test:latest
  create_local_image: y
  runtime_args_text: free

test_bash_20_04_version:
  docker_image: bash ubuntu_20_04-bash:latest
  distro: 2
  create_local_image: y
  runtime_args_text: free

test_commentary_sequence:
  docker_image: redis redis:latest
  expected_screen: signing_page
  expected_output_console: "1. Distro Selection(.*)2. Enclave Signing Key(.*)3. Attestation(.*)4. Secret Provisioning(.*)5. Runtime Arguments(.*)6. Environment Variables(.*)7. Encrypted Files(.*)8. Execution & Debug"
  end_test: signing_key_path

test_redis_protected_signing_key:
  docker_image: redis redis:latest
  signing_key_path: test_config/protected-enclave-key.pem
  signing_key_password: test@123
